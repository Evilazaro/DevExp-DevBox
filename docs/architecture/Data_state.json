{
    "session_id": "a5d8b4c1-3e9f-4a72-b8e1-9c7d2f4e6a31",
    "timestamp": "2026-02-03T10:15:30Z",
    "phase1_discovery": {
        "scan_results": {
            "total_files_scanned": 51,
            "relevant_files": 8,
            "file_types": {
                "yaml": 3,
                "json": 5
            }
        },
        "components": [
            {
                "component_id": "DATA-SCH-001",
                "name": "azureResources.schema.json",
                "type": "Data Schema",
                "layer": "Data",
                "source": {
                    "file_path": "z:\\dev\\infra\\settings\\resourceOrganization\\azureResources.schema.json",
                    "line_range": {
                        "start": 1,
                        "end": 141
                    }
                },
                "metadata": {
                    "schema_version": "draft-2020-12",
                    "validates": "azureResources.yaml",
                    "required_fields": [
                        "workload",
                        "security",
                        "monitoring"
                    ]
                }
            },
            {
                "component_id": "DATA-SCH-002",
                "name": "security.schema.json",
                "type": "Data Schema",
                "layer": "Data",
                "source": {
                    "file_path": "z:\\dev\\infra\\settings\\security\\security.schema.json",
                    "line_range": {
                        "start": 1,
                        "end": 180
                    }
                },
                "metadata": {
                    "schema_version": "draft-2020-12",
                    "validates": "security.yaml",
                    "required_fields": [
                        "create",
                        "keyVault"
                    ]
                }
            },
            {
                "component_id": "DATA-SCH-003",
                "name": "devcenter.schema.json",
                "type": "Data Schema",
                "layer": "Data",
                "source": {
                    "file_path": "z:\\dev\\infra\\settings\\workload\\devcenter.schema.json",
                    "line_range": {
                        "start": 1,
                        "end": 661
                    }
                },
                "metadata": {
                    "schema_version": "draft-2020-12",
                    "validates": "devcenter.yaml",
                    "required_fields": [
                        "name"
                    ]
                }
            },
            {
                "component_id": "DATA-CFG-001",
                "name": "azureResources.yaml",
                "type": "Configuration Data",
                "layer": "Data",
                "source": {
                    "file_path": "z:\\dev\\infra\\settings\\resourceOrganization\\azureResources.yaml",
                    "line_range": {
                        "start": 1,
                        "end": 65
                    }
                },
                "metadata": {
                    "format": "YAML",
                    "resource_groups": 3,
                    "validated_by": "azureResources.schema.json"
                }
            },
            {
                "component_id": "DATA-CFG-002",
                "name": "security.yaml",
                "type": "Configuration Data",
                "layer": "Data",
                "source": {
                    "file_path": "z:\\dev\\infra\\settings\\security\\security.yaml",
                    "line_range": {
                        "start": 1,
                        "end": 50
                    }
                },
                "metadata": {
                    "format": "YAML",
                    "key_vault_name": "contoso",
                    "validated_by": "security.schema.json"
                }
            },
            {
                "component_id": "DATA-CFG-003",
                "name": "devcenter.yaml",
                "type": "Configuration Data",
                "layer": "Data",
                "source": {
                    "file_path": "z:\\dev\\infra\\settings\\workload\\devcenter.yaml",
                    "line_range": {
                        "start": 1,
                        "end": 195
                    }
                },
                "metadata": {
                    "format": "YAML",
                    "devcenter_name": "devexp-devcenter",
                    "projects": 1,
                    "pools": 2,
                    "validated_by": "devcenter.schema.json"
                }
            },
            {
                "component_id": "DATA-PRM-001",
                "name": "main.parameters.json",
                "type": "Deployment Parameters",
                "layer": "Data",
                "source": {
                    "file_path": "z:\\dev\\infra\\main.parameters.json",
                    "line_range": {
                        "start": 1,
                        "end": 14
                    }
                },
                "metadata": {
                    "format": "JSON",
                    "parameters": 3
                }
            },
            {
                "component_id": "DATA-PRM-002",
                "name": "azure.yaml",
                "type": "Environment Configuration",
                "layer": "Data",
                "source": {
                    "file_path": "z:\\dev\\azure.yaml",
                    "line_range": {
                        "start": 1,
                        "end": 28
                    }
                },
                "metadata": {
                    "format": "YAML",
                    "project_name": "ContosoDevExp"
                }
            }
        ],
        "enriched_components": {
            "total_components": 8,
            "metadata_completeness": 1.0,
            "source_traceability": 1.0
        }
    },
    "phase2_analysis": {
        "relationship_graph": {
            "total_relationships": 12,
            "relationship_types": {
                "validates": 3,
                "loaded_by": 1,
                "consumed_by": 2,
                "parameters_for": 1,
                "environment_for": 1,
                "deploys": 3,
                "provides_secretIdentifier": 1
            },
            "acyclic": true
        },
        "dependencies": {
            "upstream": [],
            "downstream": [
                {
                    "layer": "Application",
                    "components": [
                        "main.bicep",
                        "security.bicep",
                        "workload.bicep",
                        "logAnalytics.bicep"
                    ],
                    "dependency_type": "configuration_provider"
                },
                {
                    "layer": "Technology",
                    "components": [
                        "Azure Resource Groups",
                        "Azure Key Vault",
                        "Azure DevCenter",
                        "Log Analytics Workspace",
                        "Virtual Networks"
                    ],
                    "dependency_type": "resource_configuration"
                },
                {
                    "layer": "Security",
                    "components": [
                        "RBAC Role Assignments",
                        "Key Vault Access Policies"
                    ],
                    "dependency_type": "security_configuration"
                },
                {
                    "layer": "Business",
                    "components": [
                        "Cost Management",
                        "Governance Policies"
                    ],
                    "dependency_type": "metadata_provider"
                }
            ]
        },
        "gaps": [
            {
                "gap_id": "GAP-001",
                "category": "data_governance",
                "severity": "high",
                "description": "No dedicated data quality monitoring or validation dashboards",
                "impact": "Unable to detect configuration quality issues proactively",
                "recommendation": "Implement real-time configuration quality dashboards with drift detection"
            },
            {
                "gap_id": "GAP-002",
                "category": "data_lineage",
                "severity": "medium",
                "description": "Limited data lineage tracking for configuration changes across deployment lifecycle",
                "impact": "Difficult to trace configuration changes through deployment pipeline",
                "recommendation": "Implement data catalog (Azure Purview) to track configuration lineage"
            },
            {
                "gap_id": "GAP-003",
                "category": "metadata_management",
                "severity": "medium",
                "description": "No automated data catalog or metadata repository for configuration artifacts",
                "impact": "Configuration discovery and governance require manual processes",
                "recommendation": "Deploy metadata repository for configuration discovery and governance"
            },
            {
                "gap_id": "GAP-004",
                "category": "data_retention",
                "severity": "low",
                "description": "Missing data retention policies for historical configuration versions",
                "impact": "Unclear how long to retain configuration history",
                "recommendation": "Define and implement retention schedules for configuration versions"
            },
            {
                "gap_id": "GAP-005",
                "category": "data_security",
                "severity": "low",
                "description": "No encryption-at-rest policies defined for configuration data storage",
                "impact": "Configuration data security posture not formally documented",
                "recommendation": "Document and implement encryption policies for configuration repositories"
            }
        ]
    },
    "phase3_generation": {
        "diagrams": {
            "landscape": "Mermaid diagram showing Data Landscape Overview",
            "data_flow": "Mermaid diagram showing Data Flow",
            "entity_relationships": "Mermaid diagram showing Data Component Relationships",
            "dependency_graph": "Mermaid diagram showing Cross-Layer Dependencies",
            "governance_structure": "Mermaid diagram showing Governance Roles",
            "integration_points": "Mermaid diagram showing Data Integration Points",
            "policy_hierarchy": "Mermaid diagram showing Policy Hierarchy"
        },
        "sections": {
            "section_1": "Executive Summary - Generated",
            "section_2": "Architecture Landscape - Generated",
            "section_3": "Architecture Principles - Generated",
            "section_4": "Baseline Architecture - Generated",
            "section_5": "Component Catalog - Generated",
            "section_6": "Architecture Decisions - Generated",
            "section_7": "Standards and Guidelines - Generated",
            "section_8": "Cross-Layer Dependencies - Generated",
            "section_9": "Governance Framework - Generated"
        }
    },
    "phase4_validation": {
        "completeness": {
            "score": 0.92,
            "checks": {
                "all_sections_present": true,
                "all_components_documented": true,
                "all_relationships_mapped": true,
                "all_diagrams_embedded": true,
                "no_placeholders": true,
                "source_traceability": true
            },
            "missing_elements": []
        },
        "togaf_compliance": {
            "score": 0.91,
            "checks": {
                "executive_summary": true,
                "architecture_landscape": true,
                "architecture_principles": true,
                "baseline_architecture": true,
                "component_catalog": true,
                "architecture_decisions": true,
                "standards_guidelines": true,
                "dependencies": true,
                "governance": true
            },
            "violations": []
        },
        "quality": {
            "score": 0.88,
            "checks": {
                "component_completeness": 1.0,
                "relationship_accuracy": 0.95,
                "diagram_quality": 0.85,
                "documentation_depth": 0.9,
                "traceability": 1.0
            },
            "issues": [
                {
                    "type": "documentation",
                    "severity": "minor",
                    "description": "Some advanced data governance topics could be expanded (e.g., data provenance)"
                }
            ]
        },
        "validation_passed": true
    }
}