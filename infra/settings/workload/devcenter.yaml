# yaml-language-server: $schema=./devcenter.schema.json

name: "contoso-devexp-devcenter"
location: "eastus2"
catalogItemSyncEnableStatus: "Enabled"
microsoftHostedNetworkEnableStatus: "Enabled"
installAzureMonitorAgentEnableStatus: "Enabled"

identity:
  type: "SystemAssigned"
 
  roleAssignments:
    - id: "b3c0f1a2-4e5b-4f8c-9a7d-6e1f2c3b4d5e"
      name: "DevCenter Admin"
      orgRoleType:
        - type: DevManager
          azureADGroupId: "8e3af657-a8ff-443c-a75c-2fe8c4bcb635"
          azureADGroupName: "DevExP-DevBox"
          azureRBACRoles:
            - name: "DevCenter Project Admin"
              id: "331c37c6-af14-46d9-b9f4-e1909e1b95a0"

catalogs:
  - name: "customTasks"
    type: "gitHub"
    uri: "https://github.com/Evilazaro/DevExP-DevBox.git"
    branch: "main"
    path: ".configuration/devcenter/tasks"

environmentTypes:
  - name: "dev"
    deploymentTargetId: ""
  - name: "staging"
    deploymentTargetId: ""

projects:
  - name: "identityProvider"
    description: "Identity Provider project."

    identity:
      type: SystemAssigned
      roleAssignments:
        - azureADGroupId: "331c37c6-af14-46d9-b9f4-e1909e1b95a0"
          azureADGroupName: "ddd "
          azureRBACRoles: 
            - name: "DevCenter Project Admin"
              id: "331c37c6-af14-46d9-b9f4-e1909e1b95a0"

    pools:
      - name: "backend-engineer"
        imageDefinitionName: "identityProvider-backend-engineer"
      - name: "frontend-engineer"
        imageDefinitionName: "identityProvider-frontend-engineer"

    environmentTypes:
      - name: "dev"
        deploymentTargetId: ""
      - name: "staging"
        deploymentTargetId: ""

    catalogs:
      environmentDefinition:
        name: "environments"
        type: "gitHub"
        uri: "https://github.com/Evilazaro/identityProvider.git"
        branch: "main"
        path: ".configuration/devcenter/environments"
      imageDefinition:
        name: "imageDefinitions"
        type: "gitHub"
        uri: "https://github.com/Evilazaro/identityProvider.git"
        branch: "main"
        path: ".configuration/devcenter/imageDefinitions"

    tags:
      environment: "dev"
      division: "Platforms"
      team: "DevExP"
      project: "DevExP-DevBox"
      costCenter: "IT"
      owner: "Evilazaro"
      resources: "Project"

  - name: "eShop"
    description: "eShop project."

    identity:
      type: SystemAssigned
      roleAssignments:
        - azureADGroupId: "331c37c6-af14-46d9-b9f4-e1909e1b95a0"
          azureADGroupName: "ddd "
          azureRBACRoles: 
            - name: "DevCenter Project Admin"
              id: "331c37c6-af14-46d9-b9f4-e1909e1b95a0"

    pools:
      - name: "backend-engineer"
        imageDefinitionName: "eShop-backend-engineer"
      - name: "frontend-engineer"
        imageDefinitionName: "eShop-frontend-engineer"

    environmentTypes:
      - name: "dev"
        deploymentTargetId: ""
      - name: "staging"
        deploymentTargetId: ""

    catalogs:
      environmentDefinition:
        name: "environments"
        type: "gitHub"
        uri: "https://github.com/Evilazaro/eShop.git"
        branch: "main"
        path: ".devcenter/environments"
      imageDefinition:
        name: "imageDefinitions"
        type: "gitHub"
        uri: "https://github.com/Evilazaro/eShop.git"
        branch: "main"
        path: ".devcenter/imageDefinitions"

    tags:
      environment: "dev"
      division: "Platforms"
      team: "DevExP"
      project: "DevExP-DevBox"
      costCenter: "IT"
      owner: "Evilazaro"
      resources: "Project"

tags:
  environment: "dev"
  division: "Platforms"
  team: "DevExP"
  project: "DevExP-DevBox"
  costCenter: "IT"
  owner: "Evilazaro"
  resources: "DevCenter"
